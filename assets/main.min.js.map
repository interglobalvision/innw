{"version":3,"sources":["main.js.liquid"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","hasClass","Product","bindMenuToggle","windowWidth","width","fixWidows","each","string","html","replace","$header","on","toggleClass","e","stopPropagation","sliderSpeed","length","initSlider","optionSelect","bindDetailsToggle","slick","dots","arrows","infinite","speed","slidesToShow","centerMode","variableWidth","prevArrow","nextArrow","selectsStyled","Shopify","OptionSelectors","product","productJson","onVariantSelected","selectCallback","bind","styleVariantSelects","$selectorWrapper","$priceWrapper","last","$optionWrapper","not","$addToCart","$dropDownIcon","addClass","$optionLabel","children","$optionSelect","siblings","text","val","appendTo","append","$endRow","attr","remove","$priceDisplayWrapper","$priceDisplay","$priceSelect","$priceOptions","find","map","value","$priceLabel","priceIndex","Math","floor","positionSelectedPrice","$price","filter","index","priceHeight","height","css","displayOffset","variant","selector","available","removeClass","removeAttr","jQuery","document","ready"],"mappings":"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","file":"main.min.js.liquid","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.init();\n    }\n\n    _this.bindMenuToggle();\n\n    _this.windowWidth = $(window).width();\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.windowWidth = $(window).width();\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.onResize();\n    }\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n\n  bindMenuToggle: function() {\n    var $header = $('#header');\n\n    // toggle side menu on hamburger/X click\n    $('.js-menu-toggle').on('click', function() {\n      $header.toggleClass('menu-active');\n    });\n\n    // hide side menu when click on \"page area\" of side nav holder\n    $('#menu-nav-holder').on('click', function() {\n      $header.toggleClass('menu-active');\n    });\n\n    // stop clicks on side nav from bubbling up to parent #menu-nav-holder\n    $('#menu-nav').on('click', function(e) {\n      e.stopPropagation();\n    });\n  },\n\n};\n\nSite.Product = {\n  sliderSpeed: 300,\n  init: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      _this.initSlider();\n    }\n\n    if ($('#product-select').length) {\n      _this.optionSelect();\n    }\n\n    _this.bindDetailsToggle();\n\n  },\n\n  initSlider: function() {\n    var _this = this;\n\n    $('#product-gallery').slick({\n      dots: true,\n      arrows: true,\n      infinite: true,\n      speed: _this.sliderSpeed,\n      slidesToShow: 1,\n      centerMode: true,\n      variableWidth: true,\n      prevArrow: '.gallery-prev',\n      nextArrow: '.gallery-next',\n    });\n  },\n\n  optionSelect: function() {\n    var _this = this;\n\n    _this.selectsStyled = false;\n\n    new Shopify.OptionSelectors(\"product-select\", { product: productJson, onVariantSelected: _this.selectCallback.bind(this) });\n    // Callback fires on init and on change to variant select values\n  },\n\n  styleVariantSelects: function() {\n    var _this = this;\n\n    var $selectorWrapper = $('.selector-wrapper');\n    var $priceWrapper = $selectorWrapper.last();\n    var $optionWrapper = $selectorWrapper.not($priceWrapper);\n    var $addToCart = $('#add-to-cart');\n    var $dropDownIcon = $('.select-icon-holder');\n\n    // Add styling classes to variant options that aren't Price\n    $optionWrapper.addClass('grid-item item-s-12 grid-row no-gutter align-items-center padding-top-small padding-bottom-small border-bottom');\n\n    // Style Variants options\n    var $optionLabel = $optionWrapper.children('label');\n    var $optionSelect = $optionWrapper.children('select');\n\n    // Add styling classes to variant Label and Select\n    $optionLabel.addClass('grid-item item-s-6 offset-s-2');\n    $optionSelect.addClass('full-select item-s-8 offset-s-2');\n\n    // Update Label with select value on change\n    $optionSelect.on('change', function() {\n      $(this).siblings('label').text($(this).val());\n    });\n\n    // Add drop down icon to Option wrapper\n    $dropDownIcon.appendTo($optionWrapper);\n\n    // Style Price and Add to cart\n    $('#cart-form').append('<div id=\"cart-end-row\" class=\"grid-item item-s-12 grid-row no-gutter\"></div>');\n\n    // This is the last row of the form where the Price and Add to cart button will be\n    var $endRow = $('#cart-end-row');\n\n    // Put Price option in last row and add styling classes and id\n    $priceWrapper.appendTo($endRow).addClass('grid-item item-s-6 no-gutter').attr('id','price-wrapper');\n    // Put Add to cart button in last row\n    $addToCart.appendTo($endRow);\n\n    // Remove Price option label. We don't need it\n    $priceWrapper.children('label').remove();\n\n    // Add wrapper divs for the rotary display component\n    $priceWrapper.append('<div id=\"price-display-wrapper\"><div id=\"price-display\"></div></div>');\n\n    _this.$priceDisplayWrapper = $('#price-display-wrapper');\n    _this.$priceDisplay = $('#price-display');\n\n    var $priceSelect = $priceWrapper.children('select')\n\n    // Hide the select element and stretch it across it's wrapper\n    $priceSelect.addClass('full-select');\n\n    // Get Price options from select\n    var $priceOptions = $priceWrapper.find('option');\n\n    // Add Price option values as display values to rotary display component\n    $priceOptions.map(function() {\n      var value = $(this).text();\n      _this.$priceDisplay.append('<div class=\"price-label\" data-value=\"' + value + '\">' + value + '</div>');\n    });\n\n    _this.$priceLabel = $('.price-label');\n\n    // Get the middle price and set it as initial\n    _this.priceIndex = Math.floor($priceOptions.length / 2);\n    _this.positionSelectedPrice();\n    $priceSelect.val($(_this.$priceLabel[_this.priceIndex]).attr('data-value'));\n\n    // Update display price on select change\n    $priceSelect.on('change', function() {\n      var value = $(this).val();\n      var $price = _this.$priceLabel.filter('[data-value=\"' + value + '\"]');\n\n      _this.priceIndex = _this.$priceLabel.index($price);\n      _this.positionSelectedPrice();\n    });\n\n    // Prevent styling again\n    _this.selectsStyled = true;\n  },\n\n  positionSelectedPrice: function() {\n    var _this = this;\n\n    // Update the height of price display\n    _this.priceHeight = _this.$priceLabel.height();\n    _this.$priceDisplayWrapper.css('height', _this.priceHeight + 'px');\n\n    // Rotate display price to selected price\n    var displayOffset = _this.priceIndex * _this.priceHeight;\n    _this.$priceDisplay.css('transform', 'translateY(-' + displayOffset + 'px)');\n  },\n\n  selectCallback: function(variant, selector) {\n    var _this = this;\n\n    if (variant) {\n      if (!_this.selectsStyled) {\n        _this.styleVariantSelects();\n      }\n\n      if (variant.available) {\n        // Selected a valid variant that is available.\n        $('#add').removeClass('disabled').removeAttr('disabled').val('Add to Cart');\n      } else {\n        // Variant is sold out.\n        $('#add').val('Sold Out').addClass('disabled').attr('disabled', 'disabled');\n      }\n    } else {\n      // variant doesn't exist.\n      $('#add').val('Unavailable').addClass('disabled').attr('disabled', 'disabled');\n    }\n\n  },\n\n  bindDetailsToggle: function() {\n    $('#product-details-header').on('click', function() {\n      if (Site.windowWidth < 1024) {\n        $('#product').toggleClass('details-active');\n      }\n    });\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      //_this.setGalleryWidth();\n    }\n\n    _this.positionSelectedPrice();\n  },\n\n}\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"]}