{"version":3,"sources":["main.js.liquid"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","hasClass","Product","bindMenuToggle","windowWidth","width","fixWidows","each","string","html","replace","$header","on","toggleClass","e","stopPropagation","sliderSpeed","length","initSlider","optionSelect","bindDetailsToggle","slick","dots","arrows","infinite","speed","slidesToShow","centerMode","prevArrow","nextArrow","selectsStyled","Shopify","OptionSelectors","product","productJson","onVariantSelected","selectCallback","bind","last","trigger","styleVariantSelects","$selectorWrapper","$priceWrapper","$dropDownIcon","$addToCart","$optionWrapper","not","addClass","$optionLabel","children","$optionSelect","siblings","text","val","appendTo","remove","append","$endRow","prependTo","attr","$priceDisplayWrapper","$priceDisplay","$priceSelect","$priceOptions","find","map","value","$priceLabel","priceIndex","Math","floor","positionSelectedPrice","$price","filter","index","priceHeight","height","css","displayOffset","variant","selector","available","removeClass","removeAttr","jQuery","document","ready"],"mappings":"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","file":"main.min.js.liquid","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.init();\n    }\n\n    _this.bindMenuToggle();\n\n    _this.windowWidth = $(window).width();\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    _this.windowWidth = $(window).width();\n\n    if ($('body').hasClass('template-product')) {\n      _this.Product.onResize();\n    }\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n\n  bindMenuToggle: function() {\n    var $header = $('#header');\n\n    // toggle side menu on hamburger/X click\n    $('.js-menu-toggle').on('click', function() {\n      $header.toggleClass('menu-active');\n    });\n\n    // hide side menu when click on \"page area\" of side nav holder\n    $('#menu-nav-holder').on('click', function() {\n      $header.toggleClass('menu-active');\n    });\n\n    // stop clicks on side nav from bubbling up to parent #menu-nav-holder\n    $('#menu-nav').on('click', function(e) {\n      e.stopPropagation();\n    });\n  },\n\n};\n\nSite.Product = {\n  sliderSpeed: 300,\n  init: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      _this.initSlider();\n    }\n\n    if ($('#product-select').length) {\n      _this.optionSelect();\n    }\n\n    _this.bindDetailsToggle();\n\n  },\n\n  initSlider: function() {\n    var _this = this;\n\n    $('#product-gallery').slick({\n      dots: true,\n      arrows: true,\n      infinite: true,\n      speed: _this.sliderSpeed,\n      slidesToShow: 1,\n      centerMode: true,\n      prevArrow: '.gallery-prev',\n      nextArrow: '.gallery-next',\n    });\n  },\n\n  optionSelect: function() {\n    var _this = this;\n\n    _this.selectsStyled = false;\n\n    new Shopify.OptionSelectors(\"product-select\", { product: productJson, onVariantSelected: _this.selectCallback.bind(this) });\n    // Callback fires on init and on change to variant select values\n\n    // Trigger option change to update product with initial price\n    $('.single-option-selector').last().trigger('change');\n  },\n\n  styleVariantSelects: function() {\n    var _this = this;\n\n    var $selectorWrapper = $('.selector-wrapper');\n    var $priceWrapper = $selectorWrapper.last();\n\n    var $dropDownIcon = $('.select-icon-holder');\n    var $addToCart = $('#add-to-cart');\n\n    if ($selectorWrapper.length > 1) {\n      var $optionWrapper = $selectorWrapper.not($priceWrapper);\n\n      // Add styling classes to variant options that aren't Price\n      $optionWrapper.addClass('grid-item item-s-12 grid-row no-gutter align-items-center padding-top-small padding-bottom-small border-bottom');\n\n      // Style Variants options\n      var $optionLabel = $optionWrapper.children('label');\n      var $optionSelect = $optionWrapper.children('select');\n\n      // Add styling classes to variant Label and Select\n      $optionLabel.addClass('grid-item item-s-6 offset-s-2');\n      $optionSelect.addClass('full-select item-s-8 offset-s-2');\n\n      // Update Label with select value on change\n      $optionSelect.on('change', function() {\n        $(this).siblings('label').text($(this).val());\n      });\n\n      // Add drop down icon to Option wrapper\n      $dropDownIcon.appendTo($optionWrapper);\n    } else {\n      $dropDownIcon.remove();\n    }\n\n    // Style Price and Add to cart\n    $('#cart-form').append('<div id=\"cart-end-row\" class=\"grid-item item-s-12 grid-row no-gutter justify-end\"></div>');\n\n    // This is the last row of the form where the Price and Add to cart button will be\n    var $endRow = $('#cart-end-row');\n\n    // Put Add to cart button in last row\n    $addToCart.appendTo($endRow);\n\n    if ($selectorWrapper.text() !== 'Default Title') {\n\n      // Put Price option in last row and add styling classes and id\n      $priceWrapper.prependTo($endRow).addClass('grid-item item-s-6 no-gutter').attr('id','price-wrapper');\n\n      // Remove Price option label. We don't need it\n      $priceWrapper.children('label').remove();\n\n      // Add wrapper divs for the rotary display component\n      $priceWrapper.append('<div id=\"price-display-wrapper\"><div id=\"price-display\"></div></div>');\n\n      _this.$priceDisplayWrapper = $('#price-display-wrapper');\n      _this.$priceDisplay = $('#price-display');\n\n      var $priceSelect = $priceWrapper.children('select')\n\n      // Hide the select element and stretch it across it's wrapper\n      $priceSelect.addClass('full-select');\n\n      // Get Price options from select\n      var $priceOptions = $priceWrapper.find('option');\n\n      // Add Price option values as display values to rotary display component\n      $priceOptions.map(function() {\n        var value = $(this).text();\n        _this.$priceDisplay.append('<div class=\"price-label\" data-value=\"' + value + '\">' + value + '</div>');\n      });\n\n      _this.$priceLabel = $('.price-label');\n\n      // Get the middle price and set it as initial\n      _this.priceIndex = Math.floor($priceOptions.length / 2);\n      _this.positionSelectedPrice();\n      $priceSelect.val($(_this.$priceLabel[_this.priceIndex]).attr('data-value'));\n\n      // Update display price on select change\n      $priceSelect.on('change', function() {\n        var value = $(this).val();\n        var $price = _this.$priceLabel.filter('[data-value=\"' + value + '\"]');\n\n        _this.priceIndex = _this.$priceLabel.index($price);\n        _this.positionSelectedPrice();\n      });\n    } else {\n      $selectorWrapper.remove()\n    }\n\n    // Prevent styling again\n    _this.selectsStyled = true;\n  },\n\n  positionSelectedPrice: function() {\n    var _this = this;\n\n    // Update the height of price display\n    _this.priceHeight = _this.$priceLabel.height();\n    _this.$priceDisplayWrapper.css('height', _this.priceHeight + 'px');\n\n    // Rotate display price to selected price\n    var displayOffset = _this.priceIndex * _this.priceHeight;\n    _this.$priceDisplay.css('transform', 'translateY(-' + displayOffset + 'px)');\n  },\n\n  selectCallback: function(variant, selector) {\n    var _this = this;\n\n    if (variant) {\n      if (!_this.selectsStyled) {\n        _this.styleVariantSelects();\n      }\n\n      if (variant.available) {\n        // Selected a valid variant that is available.\n        $('#add-to-cart').removeClass('disabled').removeAttr('disabled').val('Add to Cart');\n      } else {\n        // Variant is sold out.\n        $('#add-to-cart').val('Sold Out').addClass('disabled').attr('disabled', 'disabled');\n      }\n    } else {\n      // variant doesn't exist.\n      $('#add-to-cart').val('Unavailable').addClass('disabled').attr('disabled', 'disabled');\n    }\n\n  },\n\n  bindDetailsToggle: function() {\n    $('#product-details-header').on('click', function() {\n      if (Site.windowWidth < 1024) {\n        $('#product').toggleClass('details-active');\n      }\n    });\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('#product-gallery').length) {\n      //_this.setGalleryWidth();\n    }\n\n    _this.positionSelectedPrice();\n  },\n\n}\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"]}